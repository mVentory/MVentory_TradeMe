<?xml version="1.0"?>

<!--
/**
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Creative Commons License BY-NC-ND.
 * NonCommercial — You may not use the material for commercial purposes.
 * NoDerivatives — If you remix, transform, or build upon the material,
 * you may not distribute the modified material.
 * See the full license at http://creativecommons.org/licenses/by-nc-nd/4.0/
 *
 * See http://mventory.com/legal/licensing/ for other licensing options.
 *
 * @package MVentory/TradeMe
 * @copyright Copyright (c) 2014 mVentory Ltd. (http://mventory.com)
 * @license http://creativecommons.org/licenses/by-nc-nd/4.0/
 * @author Anatoly A. Kazantsev <anatoly@mventory.com>
 */
-->

<config>
  <tabs>
    <mventory translate="label">
      <label>mVentory</label>
      <sort_order>100</sort_order>
    </mventory>
  </tabs>

  <sections>
    <trademe translate="label">
      <label>TradeMe</label>
      <tab>mventory</tab>
      <frontend_type>text</frontend_type>

      <show_in_default>1</show_in_default>

      <show_in_website>1</show_in_website>
      <show_in_store>0</show_in_store>

      <sort_order>0</sort_order>

      <groups>
        <hint>
          <frontend_model>trademe/setting_hint</frontend_model>

          <show_in_default>1</show_in_default>
          <show_in_website>1</show_in_website>
          <show_in_store>1</show_in_store>

          <sort_order>0</sort_order>
        </hint>
        <settings translate="label">
          <label>Settings</label>
          <footer>
            <![CDATA[
            <ul class="messages">
              <li class="notice-msg">
                <ul>
                  <li>Trade Me has additional settings at website configuration scope.</li>
                </ul>
              </li
            </ul>
            ]]>
          </footer>
          <frontend_model>trademe/setting_fieldset</frontend_model>

          <show_in_default>1</show_in_default>
          <show_in_website>1</show_in_website>
          <show_in_store>0</show_in_store>

          <sort_order>1</sort_order>

          <account_template translate="comment" foo="bar">
            <comment>Save config after changing Consumer keys before pressing Authorise button.</comment>
            <name translate="label">
              <label>Name</label>
              <frontend_type>text</frontend_type>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>1</sort_order>
            </name>

            <key translate="label tooltip">
              <label>Consumer Key</label>
              <tooltip>See documentation for how to obtain the Consumer key and secret from Trade Me.</tooltip>
              <frontend_type>text</frontend_type>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>2</sort_order>
            </key>

            <secret translate="label">
              <label>Consumer Secret</label>
              <frontend_type>text</frontend_type>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>3</sort_order>
            </secret>

            <max_listings translate="label comment tooltip">
              <label>Max Number of Listings</label>
              <comment>Enter 0 to disable automatic submissions.</comment>
              <tooltip>A limit for automatic product listing submissions. Automatic submissions are only performed if the number of currently listed products (including manually-listed products) is below this limit.</tooltip>
              <frontend_type>text</frontend_type>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>4</sort_order>
            </max_listings>
          </account_template>

          <fields>
            <sandbox translate="label comment">
              <label>Sandbox</label>
              <comment>Select No to use Trade Me. Select Yes to use Trade Me Sandbox (for testing and development).</comment>
              <frontend_type>select</frontend_type>
              <source_model>adminhtml/system_config_source_yesno</source_model>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>102</sort_order>
            </sandbox>

            <cron translate="label comment tooltip">
              <label>Magento cron interval (in minutes)</label>
              <tooltip>Cron.php must be running as a cron job for this feature to work. See Magento documentation for more details on Cron.php.</tooltip>
              <comment>Enter 0 to disable cron.</comment>
              <frontend_type>text</frontend_type>
              <backend_model>trademe/setting_backend_cron</backend_model>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>103</sort_order>
            </cron>

            <enable_listing translate="label comment tooltip">
              <label>Default value for 'Allow to list' flag</label>
              <comment>Default value for all new products.</comment>
              <tooltip>Automatic (cron) submission will only work for products with 'Allow to List' flag set to Yes. Set this option to Yes if you want all products to be automatically listed by default.</tooltip>
              <frontend_type>select</frontend_type>
              <source_model>adminhtml/system_config_source_yesno</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>104</sort_order>
            </enable_listing>

            <list_as_new translate="label comment">
              <label>List as 'New'</label>
              <comment>Select product conditions that should be listed on Trade Me as New. Hold Ctrl to select multiple items.</comment>
              <frontend_type>multiselect</frontend_type>
              <source_model>trademe/setting_source_conditions</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>105</sort_order>
            </list_as_new>

            <mapping_store translate="label">
              <label>Fake store for mapping values of TradeMe attributes</label>
              <frontend_type>select</frontend_type>
              <source_model>trademe/setting_source_store</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>0</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>106</sort_order>
            </mapping_store>

            <name_variants_attr>
              <label>Name variants attribute code</label>
              <comment>Optional, e.g. prod_names</comment>
              <tooltip>You can nominate an attribute with name variants to be randomly used for this product on TradeMe, one name per line. Create a text area attribute and copy its code into this text box. This feature is optional.</tooltip>
              <frontend_type>text</frontend_type>

              <show_in_default>1</show_in_default>
              <show_in_website>0</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>107</sort_order>
            </name_variants_attr>

            <shipping_attr>
              <label>Shipping type attribute</label>
              <comment>Attribute code for a custom shipping type</comment>
              <tooltip>Create or use an existing attribute to specify shipping options per product. You can use any values, e.g. Courier, Envelope, Parcel. The values will be used to determine shipping options for TradeMe. Leave blank if there is only one or no shipping options.</tooltip>
              <frontend_type>text</frontend_type>
              <frontend_class>validate-code validate-length maximum-length-30</frontend_class>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>108</sort_order>
            </shipping_attr>

            <import translate="label">
              <label>Import configuration file</label>
              <tooltip>Export the configuration file, edit settings and import it back. See documentation for a detailed explanation of the format.</tooltip>
              <frontend_type>file</frontend_type>
              <backend_model>trademe/setting_backend_options</backend_model>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>109</sort_order>
            </import>

            <export translate="label">
              <label>Export configuration file</label>
              <frontend_model>trademe/setting_options</frontend_model>

              <show_in_default>0</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>110</sort_order>
            </export>
          </fields>
        </settings>

        <one_dollar translate="label footer">
          <label>$1 auctions</label>
          <footer>
            <![CDATA[
              <ul class="messages">
                <li class="notice-msg">
                  <ul>
                    <li>Any product can be marked for $1 auctions. The site will list one per day marked in "Auction end days", minus auction duration. It can also list the same product at full price. The day and time of the listing are chosen to achieve the desired closing day/time. No $1 auctions are created if no end-days are selected.
                    </li>
                  </ul>
                </li
              </ul>
            ]]></footer>
          <frontend_model>trademe/setting_fieldset</frontend_model>

          <show_in_default>1</show_in_default>
          <show_in_website>1</show_in_website>
          <show_in_store>0</show_in_store>

          <sort_order>2</sort_order>

          <fields>
            <end_days translate="label comment tooltip">
              <label>Auction end days</label>
              <comment>Crtl+Click to select / deselect multiple days</comment>
              <tooltip><![CDATA[Products will be listed one per day while stock lasts to finish at the specified day/time.<br />Use Ctrl+Click to deselect the last item and disable $1 auctions.]]></tooltip>
              <frontend_type>multiselect</frontend_type>
              <source_model>adminhtml/system_config_source_locale_weekdays</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>1</sort_order>
            </end_days>

            <end_time translate="label comment tooltip">
              <label>Auction end time</label>
              <comment>Auction end time, +/- 30min, e.g. 21:30 for 9pm to 10pm</comment>
              <tooltip><![CDATA[Auctions will start at this approximate time +/- 30 min.<br />E.g. 21:30 may create auctions between 9pm and 10pm.]]></tooltip>
              <frontend_type>text</frontend_type>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>2</sort_order>
            </end_time>

            <duration translate="label comment">
              <label>Auction duration</label>
              <comment>Auction duration</comment>
              <frontend_type>select</frontend_type>
              <source_model>trademe/setting_source_7days</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>3</sort_order>
            </duration>

            <list_full_price translate="label comment tooltip">
              <label>List full price</label>
              <comment>Full price auctions for $1 products</comment>
              <tooltip>
                <![CDATA[
                  <ul class="trademe-setting-list">
                    <li>Always - maintain at least one full price auction</li>
                    <li>If stock allows - if there are more items than $1 auctions</li>
                    <li>Never - do not list full price auctions</li>
                  </ul>
                ]]>
              </tooltip>
              <frontend_type>select</frontend_type>
              <source_model>trademe/setting_source_listfullprice</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>4</sort_order>
            </list_full_price>

            <!--
              Temporarily disabled until we will have found proper withdrawal
              logic
            -->

            <!--
            <allow_withdrawal translate="label comment tooltip">
              <label>Allow withdrawal</label>
              <comment>Allow withdrawal of $1 auctions</comment>
              <tooltip>
                <![CDATA[
                  <ul class="trademe-setting-list">
                    <li>Yes - follow the withdrawal rules for full price auctions in the main config section</li>
                    <li>No - do not withdraw $1 auctions</li>
                  </ul>
                ]]>
              </tooltip>
              <frontend_type>select</frontend_type>
              <source_model>adminhtml/system_config_source_yesno</source_model>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>5</sort_order>
            </allow_withdrawal>
            -->

            <limit translate="label comment tooltip">
              <label>$1 auctions limit</label>
              <comment>Max number of concurrent $1 auctions</comment>
              <tooltip>A limit of $1 auctions per product that can be active at the same time.</tooltip>
              <frontend_type>text</frontend_type>
              <frontend_class>validate-digits</frontend_class>

              <show_in_default>1</show_in_default>
              <show_in_website>1</show_in_website>
              <show_in_store>0</show_in_store>

              <sort_order>107</sort_order>
            </limit>
          </fields>
        </one_dollar>

        <help_account>
          <frontend_model>trademe/setting_accounthelp</frontend_model>

          <show_in_default>0</show_in_default>
          <show_in_website>1</show_in_website>
          <show_in_store>0</show_in_store>

          <sort_order>3</sort_order>
        </help_account>
      </groups>
    </trademe>
  </sections>
</config>
